{% doc %}
  Renders unit price information for cart line items or product variants

  @param {object} item - Cart line item or product variant with unit price data (required)

  @example Cart line item
  {% render 'unit-price', item: line_item %}

  @example Product variant
  {% render 'unit-price', item: product.selected_or_first_available_variant %}
{% enddoc %}

<dl data-unit-price-container class="unit-price{% if item.unit_price_measurement %} unit-price--available{% endif %}">
  <dt>
    <span class="visually-hidden visually-hidden--inline">{{ 'products.product.unit_price_label' | t }}</span>
  </dt>
  <dd class="unit-price__price{% if item.unit_price_measurement %} unit-price--available{% endif %}">
    {%- capture unit_price_separator -%}
      <span aria-hidden="true">/</span
      ><span class="visually-hidden">{{ 'general.accessibility.unit_price_separator' | t }}&nbsp;</span>
    {%- endcapture -%}
    {%- capture unit_price_base_unit -%}
      <span data-unit-price-base-unit>
        {%- if item.unit_price_measurement -%}
          {%- if item.unit_price_measurement.reference_value != 1 -%}
            {{- item.unit_price_measurement.reference_value -}}
          {%- endif -%}
          {{ item.unit_price_measurement.reference_unit }}
        {%- endif -%}
      </span>
    {%- endcapture -%}
    <span data-unit-price>{{ item.unit_price | money }}</span>
    {{- unit_price_separator -}}
    <span data-unit-base>{{- unit_price_base_unit -}}</span>
  </dd>
</dl>
