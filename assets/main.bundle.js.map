{"version":3,"file":"main.bundle.js","sources":["../src/scripts/components/favorites.js","../src/scripts/components/reload-on-event.js","../src/scripts/components/currency-selector.js","../src/scripts/components/section-tab-navigator.js","../src/scripts/components/expand-text.js","../src/scripts/utils/utils.js","../src/scripts/utils/lazy-images.js","../src/scripts/utils/theme-helpers.js","../src/entrypoints/theme.js"],"sourcesContent":["class FavoriteHandler {\n    constructor() {\n        this.favorites = this.fetchFavorites();\n\n        this.displayCountEls = document.querySelectorAll('[data-js-favorites-count]');\n\n        this.updateDisplayCount();\n\n        console.debug('Favorites', this.favorites);\n    }\n\n    fetchFavorites() {\n        const storedFavorites = localStorage.getItem('favorites');\n        let favorites = [];\n        if (storedFavorites) {\n            try {\n                const parsed = JSON.parse(storedFavorites);\n                if (Array.isArray(parsed)) {\n                    favorites = parsed;\n                }\n            } catch (error) {\n                console.error('Error parsing favorites from localStorage', error);\n            }\n        }\n        return favorites;\n    }\n\n    removeFavorite(favoriteItem) {\n        this.favorites = this.favorites.filter((favorite) => favorite.handle !== favoriteItem.handle);\n        console.debug('Favorites after removal', this.favorites);\n        this.updateLocalStorage(this.favorites);\n        this.updateDisplayCount();\n    }\n\n    addFavorite(favoriteItem) {\n        this.favorites.push(favoriteItem);\n        console.debug('Favorites after addition', this.favorites);\n        this.updateLocalStorage(this.favorites);\n        this.updateDisplayCount();\n    }\n\n    updateDisplayCount() {\n        this.displayCountEls.forEach((el) => {\n            el.textContent = this.favorites.length;\n\n            if (this.favorites.length === 0) {\n                el.classList.add('opacity-0');\n            } else {\n                el.classList.remove('opacity-0');\n            }\n        });\n    }\n\n    updateLocalStorage(favorites) {\n        localStorage.setItem('favorites', JSON.stringify(favorites));\n    }\n}\n\nconst favoriteHandler = new FavoriteHandler();\n\n/**\n * Represents the MainFavorites custom element.\n * @class\n * @extends HTMLElement\n */\nclass FavoriteProducts extends HTMLElement {\n    constructor() {\n        super();\n\n        this.productGrid = this.querySelector('[data-product-grid]');\n        this.spinner = this.querySelector('[data-spinner]');\n        this.emptyStateEl = this.querySelector('[data-empty-state]');\n\n        if (favoriteHandler.favorites.length > 0) {\n            this.fetchProducts();\n        } else {\n            this.emptyStateEl.classList.remove('hidden');\n            this.spinner.classList.add('hidden');\n        }\n    }\n\n    /**\n     * Fetches the HTML content of a product using its handle and variant ID if available.\n     *\n     * @param {Object} favorite - The favorite object containing handle and optional variantId.\n     * @returns {Promise<HTMLLIElement>} - A promise that resolves to an HTML list item element containing the fetched product HTML.\n     */\n    async fetchProductHTML(favorite) {\n        let url = `/products/${favorite.handle}?view=card`;\n\n        if (favorite.variantId) {\n            url += `&variant=${favorite.variantId}`;\n        }\n\n        const productHTML = await fetch(url).then((res) => res.text());\n\n        const parser = new DOMParser();\n        const doc = parser.parseFromString(productHTML, 'text/html');\n        const favoritesResult = doc.querySelector('.product-item');\n\n        return favoritesResult;\n    }\n\n    batchArray(arr, size) {\n        const batchedArray = [];\n        for (let i = 0; i < arr.length; i += size) {\n            batchedArray.push(arr.slice(i, i + size));\n        }\n        return batchedArray;\n    }\n\n    /**\n     * Fetches products and appends them to the product grid.\n     * @returns {Promise<Array<HTMLElement>>} An array of HTML elements representing the fetched products.\n     */\n    async fetchProducts() {\n        const batchedFavorites = this.batchArray(favoriteHandler.favorites, 4);\n        await Promise.all(\n            batchedFavorites.map(async (favoritesArray) => {\n                const productsHTML = await Promise.all(\n                    favoritesArray.map(async (favorite) => this.fetchProductHTML(favorite))\n                );\n                productsHTML.forEach((el) => {\n                    try {\n                        return this.productGrid.appendChild(el);\n                    } catch (error) {}\n                });\n                return productsHTML;\n            })\n        );\n        this.spinner.classList.add('hidden');\n    }\n}\n\ncustomElements.define('favorite-products', FavoriteProducts);\n\nclass AddFavorite extends HTMLElement {\n    constructor() {\n        super();\n\n        this.productHandle = this.dataset.productHandle;\n        this.variantId = this.dataset.variantId;\n\n        this.favoriteItem = {\n            handle: this.productHandle\n        };\n\n        if (this.variantId) {\n            this.favoriteItem.variantId = this.variantId;\n        }\n\n        this.addEventListener('click', this.handleClick.bind(this));\n        this.updateState();\n    }\n\n    get isFavorite() {\n        return favoriteHandler.favorites.some(\n            (favorite) => JSON.stringify(favorite) === JSON.stringify(this.favoriteItem)\n        );\n    }\n\n    handleClick() {\n        if (this.isFavorite) {\n            this.removeFavorite();\n        } else {\n            this.addFavorite();\n        }\n        this.updateState();\n    }\n\n    removeFavorite() {\n        favoriteHandler.removeFavorite(this.favoriteItem);\n    }\n\n    addFavorite() {\n        favoriteHandler.addFavorite(this.favoriteItem);\n    }\n\n    updateState() {\n        if (this.isFavorite) {\n            this.setAttribute('added', '');\n        } else {\n            this.removeAttribute('added');\n        }\n    }\n}\n\ncustomElements.define('add-favorite', AddFavorite);\n","//chrom console: -url:https://au.timeresistance.com/cdn/shopifycloud/shopify-xr-js/v1.0/shopify-xr.en.js -url:chrome-extension://hdokiejnpimakedhajhdlcegeplioahd/background-redux-new.js -url:https://au.timeresistance.com/cdn/shopifycloud/media-analytics/v0.1/analytics.js -runtime.lastError -ERR_BLOCKED\nclass ReloadOnEvent extends HTMLElement {\n    constructor() {\n        super();\n\n        console.debug('ReloadOnEvent constructor');\n\n        this.event = this.getAttribute('data-event');\n\n        this.section = this.closest('.shopify-section');\n        this.sectionId = this.section.id;\n        this.shopifySectionId = this.sectionId.replace('shopify-section-', '');\n\n        this.container = this.section.querySelector('[data-section-type]');\n        this.sectionType = this.container.getAttribute('data-section-type');\n\n        this.init();\n    }\n\n    init() {\n        this.url = new URL(window.location.href);\n        this.url.searchParams.set('sections', this.shopifySectionId);\n\n        console.debug('ReloadOnEvent init, adding event listener for', this.event);\n        document.addEventListener(this.event, this.handleChange.bind(this));\n    }\n\n    handleChange(event) {\n        console.debug('ReloadOnEvent handleChange, reloading - event.detail:', event.detail);\n\n        if (event.detail.variant) {\n            this.url.searchParams.set('variant', event.detail.variant.id);\n        }\n\n        this.reload();\n    }\n\n    async reload() {\n        await this.setNewHTML();\n        window.Shopify.theme.sections.unload(this.container);\n\n        const newContainer = this.querySelector(`[data-section-type=\"${this.sectionType}\"]`);\n\n        if (!newContainer) {\n            console.error(\n                `ReloadOnEvent reload: Failed to find the new container element with type [${this.sectionType}] after updating innerHTML.`\n            );\n\n            return;\n        }\n\n        this.container = newContainer;\n\n        window.Shopify.theme.sections.load(this.sectionType, this.container);\n\n        this.dispatchEvent(\n            new CustomEvent('reload-on-event:loaded', {\n                bubbles: true,\n                detail: {\n                    sectionId: this.sectionId,\n                    shopifySectionId: this.shopifySectionId\n                }\n            })\n        );\n    }\n\n    async setNewHTML() {\n        try {\n            const html = await this.fetchSectionHTML();\n            if (!html) {\n                console.error(\n                    'ReloadOnEvent setNewHTML: Fetched HTML is empty or null for section',\n                    this.shopifySectionId\n                );\n                return;\n            }\n\n            const parser = new DOMParser();\n            const doc = parser.parseFromString(html, 'text/html');\n\n            const fetchedShopifySection = doc.getElementById(this.sectionId);\n\n            if (fetchedShopifySection) {\n                const fetchedSelf = this.findSelfInHTML(fetchedShopifySection);\n\n                if (fetchedSelf) {\n                    this.innerHTML = fetchedSelf.innerHTML;\n                } else {\n                    console.warn(\n                        'ReloadOnEvent setNewHTML: Could not find \"self\" (<reload-on-event>) element within the fetched section HTML using findSelfInHTML.'\n                    );\n                }\n            } else {\n                console.warn(\n                    'ReloadOnEvent setNewHTML: Could not find the parent Shopify section element in the fetched HTML. Section ID:',\n                    this.sectionId\n                );\n            }\n        } catch (error) {\n            console.error('ReloadOnEvent setNewHTML: Error fetching or parsing HTML:', error);\n        }\n    }\n\n    async fetchSectionHTML() {\n        console.debug('ReloadOnEvent fetchSectionHTML, url', this.url);\n        const sectionJSON = await fetch(this.url).then((res) => res.json());\n\n        console.debug('ReloadOnEvent fetchSectionHTML, sectionJSON', sectionJSON);\n\n        return sectionJSON[this.shopifySectionId];\n    }\n\n    findSelfInHTML(doc) {\n        // Build selector path by walking up DOM tree\n        const path = [];\n        let element = this;\n        while (element) {\n            let selector = element.tagName.toLowerCase();\n            // Add nth-child if element has siblings\n            if (element.parentElement) {\n                const index = Array.from(element.parentElement.children).indexOf(element) + 1;\n                if (index > 1) {\n                    selector += `:nth-child(${index})`;\n                }\n            }\n            path.unshift(selector);\n            element = element.parentElement;\n            // Stop at section container\n            if (element && element.id === this.sectionId) break;\n        }\n        return doc.querySelector(path.join(' > '));\n    }\n}\n\ncustomElements.define('reload-on-event', ReloadOnEvent);\n","class CurrencySelector extends HTMLElement {\n    constructor() {\n        super();\n        this.select = this.querySelector('#marketSelector');\n    }\n\n    connectedCallback() {\n        if (this.select) {\n            this.setupEventListeners();\n        }\n    }\n\n    setupEventListeners() {\n        this.select.addEventListener('change', (event) => this.handleMarketChange(event));\n    }\n\n    handleMarketChange(event) {\n        const selectedOption = event.target.selectedOptions[0];\n        const targetUrl = selectedOption.dataset.url;\n\n        if (!targetUrl) return;\n\n        window.location.href = targetUrl;\n    }\n}\n\ncustomElements.define('currency-selector', CurrencySelector);\n","class SectionTabNavigator extends HTMLElement {\n    constructor() {\n        super();\n\n        if (Shopify.designMode) {\n            this.blockSelectHandler = this.blockSelectHandler || this.handleBlockSelect.bind(this);\n            this.section.addEventListener('shopify:block:select', this.blockSelectHandler);\n        }\n    }\n\n    connectedCallback() {\n        this.init();\n        this.addEventListener('click', this.handleClick.bind(this));\n    }\n\n    init() {\n        const { sectionId, activeTextClass } = this.dataset;\n        this.section = document.getElementById(sectionId);\n        this.activeTextClass = activeTextClass;\n\n        this.backgroundBlob = this.querySelector('.background-blob');\n\n        const firstNavigator = this.querySelector('[data-navigate-tab]');\n\n        if (!firstNavigator) {\n            return console.warn(\"section-tab-navigator doesn't include any navigation links\", this);\n        }\n\n        this.navigate(firstNavigator);\n    }\n\n    /**\n     * Handles the click event.\n     *\n     * @param {Event} evt - The click event object.\n     */\n    handleClick(evt) {\n        const target = evt.target.closest('[data-navigate-tab]');\n\n        if (target) {\n            this.navigate(target);\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    navigate(target) {\n        this.updateUI(target);\n\n        const tabName = target.dataset.navigateTab;\n\n        const tabEls = this.section.querySelectorAll('[data-tab]');\n\n        tabEls.forEach((tabEl) => {\n            if ((tabName === 'all' || tabName === 'alla') && !tabEl.hasAttribute('data-not-all')) {\n                return tabEl.classList.remove('js-hidden');\n            }\n\n            const elTabs = tabEl.dataset.tab.split(',');\n\n            const show = elTabs.includes(tabName);\n\n            tabEl.classList.toggle('js-hidden', !show);\n        });\n\n        this.target = target;\n\n        this.section.dispatchEvent(\n            new CustomEvent('sectionTabNavigated', {\n                detail: {\n                    tabName: tabName\n                }\n            })\n        );\n    }\n\n    updateUI(target) {\n        if (this.target && this.activeTextClass) {\n            this.target.classList.remove(this.activeTextClass);\n        }\n\n        if (target && this.backgroundBlob) {\n            if (this.activeTextClass) {\n                target.classList.add(this.activeTextClass);\n            }\n\n            const targetRect = target.getBoundingClientRect();\n            const parentRect = target.offsetParent.getBoundingClientRect();\n\n            this.backgroundBlob.style.width = `${targetRect.width}px`;\n            this.backgroundBlob.style.left = `${targetRect.left - parentRect.left}px`;\n        }\n    }\n\n    handleBlockSelect(evt) {\n        const handled = handleClick(evt);\n\n        if (handled) return;\n\n        const blockEl = evt.target;\n\n        if (!blockEl) return console.warn('No block selected');\n\n        if (evt.target.classList.contains('js-hidden')) {\n            let tabs = [];\n\n            if (tabEl.hasAttribute('data-tab')) {\n                tabs = tabEl.dataset.tab.split(',');\n            }\n\n            if (tabEl.hasAttribute('data-flickity-tab')) {\n                tabs = blockEl.dataset.flickityTab.split(',');\n            }\n\n            if (tabs.length > 0) {\n                const tabName = slideTabs[0];\n                this.navigate(tabName);\n            }\n        }\n    }\n}\n\ncustomElements.define('section-tab-navigator', SectionTabNavigator);\n\n//They maybe shpuld extend eachother for DRY\nexport class RadioBlob extends HTMLElement {\n    constructor() {\n        super();\n    }\n\n    connectedCallback() {\n        this.init();\n        this.addEventListener('input', this.handleInput.bind(this));\n    }\n\n    init() {\n        this.activeTextClass = this.dataset.activeTextClass;\n\n        this.backgroundBlob = this.querySelector('.background-blob');\n\n        const firstNavigator = this.querySelector('input[type=\"radio\"]:checked');\n\n        if (!firstNavigator) {\n            return console.warn(\"section-tab-navigator doesn't include any navigation links\", this);\n        }\n\n        this.handleInput({ target: firstNavigator });\n    }\n\n    /**\n     * Handles the click event.\n     *\n     * @param {Event} evt - The click event object.\n     */\n    handleInput(evt) {\n        const target = evt.target.closest('li');\n\n        if (target) {\n            this.updateUI(target);\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    updateUI(target) {\n        if (this.target && this.activeTextClass) {\n            this.target.classList.remove(this.activeTextClass);\n        }\n\n        if (target && this.backgroundBlob) {\n            if (this.activeTextClass) {\n                target.classList.add(this.activeTextClass);\n            }\n\n            const targetRect = target.getBoundingClientRect();\n            const parentRect = target.offsetParent.getBoundingClientRect();\n\n            this.backgroundBlob.style.width = `${targetRect.width}px`;\n            this.backgroundBlob.style.left = `${targetRect.left - parentRect.left}px`;\n            this.backgroundBlob.style.top = `${targetRect.top - parentRect.top}px`;\n\n            this.target = target;\n        }\n    }\n}\n\ncustomElements.define('radio-blob', RadioBlob);\n","/**\n * ExpandText Component\n * \n * A custom element that collapses text to a specified number of lines and adds a \"See more\" button\n * to expand the full text when clicked.\n * \n * Usage:\n * <expand-text data-lines=\"3\">\n *   <p>Your content here...</p>\n * </expand-text>\n * \n * Attributes:\n * - data-lines: Number of lines to show before collapsing (default: 3)\n * \n * Features:\n * - Automatically hides the \"See more\" button if content is shorter than the specified lines\n * - Toggles between expanded and collapsed states\n * - Uses Tailwind classes for styling\n */\nclass ExpandText extends HTMLElement {\n  constructor() {\n    super();\n    this.expanded = false;\n  }\n\n  connectedCallback() {\n    this.lines = parseInt(this.dataset.lines || 3, 10);\n    this.init();\n  }\n\n  init() {\n    // Create container for the text with line clamp\n    this.contentContainer = document.createElement('div');\n    this.contentContainer.classList.add(\n      'overflow-hidden',\n      'transition-all',\n      'duration-300',\n      'relative'\n    );\n\n    // Create ellipsis element to show when text is truncated\n    this.ellipsis = document.createElement('span');\n    this.ellipsis.textContent = '...';\n    this.ellipsis.classList.add(\n      'inline-block',\n      'ml-1',\n      'align-bottom',\n      'hidden'\n    );\n\n    // Move all content to the container\n    while (this.firstChild) {\n      this.contentContainer.appendChild(this.firstChild);\n    }\n    \n    this.contentContainer.appendChild(this.ellipsis);\n    this.appendChild(this.contentContainer);\n\n    // Create \"See more\" button\n    this.button = document.createElement('button');\n    this.button.type = 'button';\n    this.button.classList.add(\n      'mt-2',\n      'text-sm',\n      'font-medium',\n      'underline',\n      'focus:outline-none',\n      'transition-opacity',\n      'duration-300'\n    );\n    this.button.textContent = 'See more';\n    this.button.addEventListener('click', this.toggleExpand.bind(this));\n    this.appendChild(this.button);\n\n    // Check if content needs expansion\n    this.checkContentHeight();\n  }\n\n  checkContentHeight() {\n    // Get line height to calculate total height\n    const style = window.getComputedStyle(this.contentContainer);\n    const lineHeight = parseInt(style.lineHeight, 10) || \n                       parseInt(style.fontSize, 10) * 1.5;\n    \n    // Calculate max height based on number of lines\n    const maxHeight = this.lines * lineHeight;\n    \n    // Get the scrollHeight of the content\n    const contentHeight = this.contentContainer.scrollHeight - this.ellipsis.offsetHeight; // Adjust for ellipsis\n    \n    if (contentHeight <= maxHeight) {\n      // Content is shorter than max lines, no need for expand functionality\n      this.button.classList.add('hidden');\n      this.ellipsis.classList.add('hidden');\n      return;\n    }\n    \n    // Apply line clamp\n    this.contentContainer.style.maxHeight = `${maxHeight}px`;\n    this.contentContainer.classList.add('line-clamp-' + this.lines);\n    \n    // Show the button and ellipsis\n    this.button.classList.remove('hidden');\n    this.ellipsis.classList.remove('hidden');\n    \n    // Store original height for expansion\n    this.fullHeight = contentHeight;\n  }\n\n  toggleExpand() {\n    this.expanded = !this.expanded;\n    \n    if (this.expanded) {\n      // Expand the content\n      this.contentContainer.style.maxHeight = `${this.fullHeight}px`;\n      this.contentContainer.classList.remove('line-clamp-' + this.lines);\n      this.button.textContent = 'See less';\n      this.ellipsis.classList.add('hidden'); // Hide ellipsis when expanded\n    } else {\n      // Collapse the content\n      const style = window.getComputedStyle(this.contentContainer);\n      const lineHeight = parseInt(style.lineHeight, 10) || \n                         parseInt(style.fontSize, 10) * 1.5;\n      const maxHeight = this.lines * lineHeight;\n      \n      this.contentContainer.style.maxHeight = `${maxHeight}px`;\n      this.contentContainer.classList.add('line-clamp-' + this.lines);\n      this.button.textContent = 'See more';\n      this.ellipsis.classList.remove('hidden'); // Show ellipsis when collapsed\n    }\n  }\n}\n\ncustomElements.define('expand-text', ExpandText);","/**\n * Returns a function that as long as it continues to be invoked, won't be triggered.\n * @param {Function} fn - Callback function.\n * @param {number} [wait=300] - Delay (in milliseconds).\n * @returns {Function}\n */\nexport function debounce(fn, wait = 300) {\n    let t;\n    return (...args) => {\n        clearTimeout(t);\n        t = setTimeout(() => fn.apply(this, args), wait);\n    };\n}\n\n/**\n * Transforms a string from kebab-case to PascalCase.\n * @param {string} str - The input string in kebab-case.\n * @returns {string} - The transformed string in PascalCase.\n */\nexport function kebabToPascalCase(str) {\n    return str\n        .split('-') // Split the string by hyphens\n        .map((word) => word.charAt(0).toUpperCase() + word.slice(1)) // Capitalize the first letter of each word\n        .join(''); // Join the words back together\n}\n\n/**\n * Logs a message to the DOM by creating an <h4> element with the message,\n * appending it to the body, and removing it after a specified delay.\n *\n * @param {string} message - The message to display in the <h4> element.\n * @param {number} [delay=3000] - The delay in milliseconds before removing the <h4> element. Default is 3000ms.\n */\nexport function logDOM(message, delay = 8000) {\n    if (window.Shopify.theme.role != 'development') return;\n    const h4 = document.createElement('h4');\n    h4.textContent = message;\n    h4.style.color = 'red';\n\n    const logDomContainer = document.querySelector('[data-dom-log]') || document.body;\n\n    logDomContainer.prepend(h4);\n\n    setTimeout(() => {\n        logDomContainer.removeChild(h4);\n    }, delay);\n}\n\n/**\n * Waits for the animation to end on the specified element.\n *\n * @param {HTMLElement} element - The element to wait for the animation to end on.\n * @param {Function} [callback] - Optional callback function to execute when the animation ends.\n * @returns {Promise<void>} A promise that resolves when the animation ends.\n */\nexport async function afterAnimationEnd(element, callback) {\n    return new Promise((resolve) => {\n        function onEnd(event) {\n            if (event.target !== element) return;\n\n            element.removeEventListener('animationend', onEnd);\n            element.removeEventListener('transitionend', onEnd);\n\n            if (typeof callback === 'function') {\n                callback();\n            } else {\n                console.warn('callback was not valid function', callback);\n            }\n\n            resolve();\n        }\n\n        element?.addEventListener('animationend', onEnd);\n        element?.addEventListener('transitionend', onEnd);\n    });\n}\n\n/**\n * Executes the provided callback function after the current call stack has cleared.\n *\n * @param {Function} callback - The function to be executed after the call stack clears.\n */\nexport function afterCallstack(callback) {\n    setTimeout(() => {\n        requestAnimationFrame(callback);\n    }, 0);\n}\n\nexport function formatMoney(cents, format = window.themeVariables.moneyFormat) {\n    if (typeof cents == 'string') {\n        cents = cents.replace('.', '');\n    }\n    let value = '';\n    const placeholderRegex = /\\{\\{\\s*(\\w+)\\s*\\}\\}/;\n\n    function formatWithDelimiters(number, precision = 2, thousands = ',', decimal = '.') {\n        if (isNaN(number) || number == null) {\n            return 0;\n        }\n\n        number = (number / 100.0).toFixed(precision);\n\n        const parts = number.split('.'),\n            dollars = parts[0].replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, `$1${thousands}`),\n            cents = parts[1] ? decimal + parts[1] : '';\n\n        return dollars + cents;\n    }\n\n    switch (format.match(placeholderRegex)[1]) {\n        case 'amount':\n            value = formatWithDelimiters(cents, 2);\n            break;\n        case 'amount_no_decimals':\n            value = formatWithDelimiters(cents, 0);\n            break;\n        case 'amount_with_comma_separator':\n            value = formatWithDelimiters(cents, 2, '.', ',');\n            break;\n        case 'amount_no_decimals_with_comma_separator':\n            value = formatWithDelimiters(cents, 0, '.', ',');\n            break;\n    }\n\n    return format.replace(placeholderRegex, value);\n}\n","import { afterCallstack } from './utils.js';\n\n/**\n * Checks if a lazy load image has alternate <source> elements and copies the\n * 'data-src' and 'data-srcset' selectors to 'src' and 'srcset' accordingly.\n * @param {Element} img - Image element.\n */\nexport function setImageSources(img) {\n    const setImageAttr = (el) => {\n        if (el.dataset.src && !el.src) {\n            el.src = el.dataset.src;\n        }\n\n        if (el.dataset.srcset && !el.srcset) {\n            el.srcset = el.dataset.srcset;\n        }\n    };\n\n    if (img.parentNode.tagName === 'PICTURE') {\n        Array.from(img.parentNode.children).forEach((el) => {\n            setImageAttr(el);\n        });\n    } else {\n        setImageAttr(img);\n    }\n}\n\nfunction setImageSourceArray(imgElArray) {\n    return imgElArray.forEach((img) => setImageSources(img));\n}\n\n/**\n * Initialises lazy load images.\n */\nexport function initLazyImages() {\n    if ('loading' in HTMLImageElement.prototype === false && 'IntersectionObserver' in window) {\n        console.log('intersection observer');\n        const io = new IntersectionObserver(\n            (entries, observer) => {\n                entries.forEach((entry) => {\n                    if (entry.isIntersecting) {\n                        const img = entry.target;\n                        setImageSources(img);\n                        observer.unobserve(img);\n                    }\n                });\n            },\n            { rootMargin: '0px 0px 500px 0px' }\n        );\n\n        document.querySelectorAll('[loading=\"lazy\"]').forEach((img) => {\n            io.observe(img);\n        });\n    } else {\n        // If native lazy load supported or IntersectionObserver not supported (legacy browsers).\n        const imagesOnDOMLoad = [];\n        const imagesOnLoad = [];\n\n        document.querySelectorAll('[loading=\"lazy\"], [data-src]').forEach((img) => {\n            if (img.hasAttribute('data-load-dom')) {\n                imagesOnDOMLoad.push(img);\n            } else if (img.hasAttribute('data-load-load')) {\n                imagesOnLoad.push(img);\n            } else if (img.hasAttribute('data-load-manual')) {\n                return;\n            } else {\n                setImageSources(img);\n            }\n        });\n\n        loadImagesOnDOMLoaded(imagesOnDOMLoad);\n\n        loadImagesOnLoaded(imagesOnLoad);\n    }\n}\n\nfunction loadImagesOnDOMLoaded(imageElArray) {\n    console.debug('loadImagesOnDOMLoaded', imageElArray);\n    const execute = () => afterCallstack(() => setImageSourceArray(imageElArray));\n\n    if (document.readyState != 'loading') {\n        return execute();\n    }\n\n    document.addEventListener('DOMContentLoaded', execute);\n}\n\nfunction loadImagesOnLoaded(imageElArray) {\n    console.debug('loadImagesOnLoaded', imageElArray);\n    const execute = () => afterCallstack(() => setImageSourceArray(imageElArray));\n\n    if (document.readyState == 'complete') {\n        return execute();\n    }\n\n    window.addEventListener('load', execute);\n}\n\n//Loads all images manually (load,dom,manual, etc.)\nexport function loadManualImages(container = document) {\n    console.debug('loadManualImages', container);\n    const imageEls = container.querySelectorAll('[loading=\"lazy\"]');\n\n    setImageSourceArray(imageEls);\n}\n\nafterCallstack(initLazyImages);\ndocument.addEventListener('DOMContentLoaded', initLazyImages);\n\ndocument.addEventListener('shopify:section:load', () => afterCallstack(initLazyImages));\n","document.addEventListener('DOMContentLoaded', () => {\n    document.addEventListener('click', (evt) => {\n        const link = evt.target.tagName === 'A' ? evt.target : evt.target.closest('a');\n        if (link && link.tagName === 'A' && window.location.hostname !== new URL(link.href).hostname) {\n            link.target = '_blank';\n        }\n    });\n\n    // Ensure anchor scrolling is smooth (this shouldn't be added in the CSS)\n    document.addEventListener('click', (evt) => {\n        if (\n            evt.target.tagName === 'A' &&\n            window.location.hostname === new URL(evt.target.href).hostname &&\n            evt.target.href.includes('#')\n        ) {\n            document.getElementsByTagName('html')[0].style.scrollBehavior = 'smooth';\n            setTimeout(() => {\n                document.getElementsByTagName('html')[0].style.scrollBehavior = '';\n            }, 1000);\n        }\n    });\n});\n","/* \nimport '../scripts/utils/theme-functions.js';\nimport '../scripts/utils/css-helpers.js';\n*/\n\nwindow.theme = window.theme || {};\n\nimport '../scripts/components/';\nimport '../scripts/utils/lazy-images.js';\nimport '../scripts/utils/theme-helpers.js';\n\nconsole.log('main.bundle.js loaded');\n\n// Dispatch event when theme bundle is loaded\ndocument.dispatchEvent(new CustomEvent('theme:loaded'));\n"],"names":["FavoriteHandler","storedFavorites","favorites","parsed","error","favoriteItem","favorite","el","favoriteHandler","FavoriteProducts","url","productHTML","res","arr","size","batchedArray","i","batchedFavorites","favoritesArray","productsHTML","AddFavorite","ReloadOnEvent","event","newContainer","html","fetchedShopifySection","fetchedSelf","sectionJSON","doc","path","element","selector","index","CurrencySelector","targetUrl","SectionTabNavigator","sectionId","activeTextClass","firstNavigator","evt","target","tabName","tabEl","show","targetRect","parentRect","blockEl","tabs","RadioBlob","ExpandText","style","lineHeight","maxHeight","contentHeight","afterCallstack","callback","setImageSources","img","setImageAttr","setImageSourceArray","imgElArray","initLazyImages","io","entries","observer","entry","imagesOnDOMLoad","imagesOnLoad","loadImagesOnDOMLoaded","loadImagesOnLoaded","imageElArray","execute","link"],"mappings":"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"}