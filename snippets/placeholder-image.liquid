{% doc %}
  Renders a placeholder image with configurable aspect ratio and styling

  @param {string} aspect_ratio - Aspect ratio for the placeholder image (required)
  @param {string} [placeholder_name] - Placeholder name from Shopify's placeholder system (default: 'image')
  @param {string} [wrapper_class] - Additional CSS classes for the wrapper element
  @param {string} [natural_fallback_ratio] - Fallback ratio when aspect_ratio is 'natural' (default: 'square')

  @example
  Basic placeholder
  {% render 'placeholder-image', aspect_ratio: 'square' %}
  @example
  Product placeholder
  {% render 'placeholder-image', aspect_ratio: 'portrait', placeholder_name: 'product-1', wrapper_class: 'product-image' %}
  @example
  Collection placeholder
  {% render 'placeholder-image', aspect_ratio: 'landscape', placeholder_name: 'collection-1', natural_fallback_ratio: 'wide' %}
{% enddoc %}
{%- liquid
  assign placeholder_tag = 'image'

  if placeholder_name
    assign placeholder_tag = placeholder_name
  endif

  assign placeholder_aspect_ratio = aspect_ratio

  if aspect_ratio == blank or aspect_ratio == 'natural'
    if natural_fallback_ratio != blank
      assign placeholder_aspect_ratio = natural_fallback_ratio
    else
      assign placeholder_aspect_ratio = 'square'
    endif
  endif
-%}

<div
  class="
    placeholder-image
    {{ wrapper_class }}
    placeholder-image--{{ placeholder_aspect_ratio }}
    image
    aspect-ratio--{{ placeholder_aspect_ratio }}
  "
>
  {{ placeholder_tag | placeholder_svg_tag: 'placeholder-svg' }}
</div>
