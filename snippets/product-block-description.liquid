{% doc %}
  Renders a product description block with optional collapsible functionality

  @param {object} [block] - Section block with settings for display options
  @param {object} product - Product object containing description (required)
  @param {object} [block_settings] - Block settings object

  @example
  Basic product description
  {% render 'product-block-description', product: product, block: block %}
{% enddoc %}

{%- liquid
  if product != blank
    assign description = product.description
  else
    assign description = 'sections.featured_product.placeholder.description' | t
  endif
-%}

{% if block_settings.display_as_collapsible_row %}
  {%-
    render 'product-block-accordion' with
    block: block,
    block_settings: block.settings,
    heading: block.settings.title,
    content: description,
  -%}
{% else %}
  {%
    render 'product-block-text' with
    content: description,
    heading: block.settings.title,
    block_settings: block_settings,
    block: block,
  %}
{% endif %}
